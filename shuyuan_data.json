[
  {
    "bookSourceName": "æ¼«å°è‚†",
    "bookSourceType": 2,
    "bookSourceUrl": "https://www.wxzhm.top/",
    "bookUrlPattern": "https://www.wxzhm.top/book/\\d+.",
    "customOrder": 0,
    "enabled": true,
    "enabledCookieJar": true,
    "enabledExplore": true,
    "exploreUrl": "é’æ˜¥::/booklist/?page={{page}}&tag=é’æ˜¥\næ€§æ„Ÿ::/booklist/?page={{page}}&tag=æ€§æ„Ÿ\né•¿è…¿::/booklist/?page={{page}}&tag=é•¿è…¿\nå¤šäºº::/booklist/?page={{page}}&tag=å¤šäºº\nå¾¡å§::/booklist/?page={{page}}&tag=å¾¡å§\nå·¨ä¹³::/booklist/?page={{page}}&tag=å·¨ä¹³\næ–°å©š::/booklist/?page={{page}}&tag=æ–°å©š\nåª³å¦‡::/booklist/?page={{page}}&tag=åª³å¦‡\næš§æ˜§::/booklist/?page={{page}}&tag=æš§æ˜§\næ¸…çº¯::/booklist/?page={{page}}&tag=æ¸…çº¯\nè°ƒæ•™::/booklist/?page={{page}}&tag=è°ƒæ•™\nå°‘å¦‡::/booklist/?page={{page}}&tag=å°‘å¦‡\né£éªš::/booklist/?page={{page}}&tag=é£éªš\nåŒå±…::/booklist/?page={{page}}&tag=åŒå±…\næ·«ä¹±::/booklist/?page={{page}}&tag=æ·«ä¹±\nå¥½å‹::/booklist/?page={{page}}&tag=å¥½å‹\nå¥³ç¥::/booklist/?page={{page}}&tag=å¥³ç¥\nè¯±æƒ‘::/booklist/?page={{page}}&tag=è¯±æƒ‘\nå·æƒ…::/booklist/?page={{page}}&tag=å·æƒ…\nå‡ºè½¨::/booklist/?page={{page}}&tag=å‡ºè½¨\næ­£å¦¹::/booklist/?page={{page}}&tag=æ­£å¦¹\nå®¶æ•™::/booklist/?page={{page}}&tag=å®¶æ•™",
    "header": "{\"User-Agent\": \"Mozilla/5.0 (Linux; Android 9; MIX 2 Build/PKQ1.190118.001; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/80.0.3987.99 Mobile Safari/537.36\"}",
    "lastUpdateTime": "1732958597603",
    "respondTime": 180000,
    "ruleBookInfo": {
      "author": ".detail-main-info-author.1@a@text",
      "coverUrl": ".detail-main-cover@img@data-original",
      "init": "",
      "intro": ".detail-desc@text",
      "kind": ".detail-main-info-class@text&&.detail-main-info-author.2@a@text",
      "name": ".detail-main-info-title@text"
    },
    "ruleContent": {
      "content": "#cp_img@html"
    },
    "ruleExplore": {
      "bookList": ".manga-list-2 li",
      "bookUrl": ".manga-list-2-title@a@href",
      "coverUrl": "img@data-original",
      "lastChapter": ".manga-list-2-tip@text",
      "name": ".manga-list-2-title@a@text"
    },
    "ruleSearch": {
      "author": ".book-list-info-bottom-item@text",
      "bookList": ".book-list li",
      "bookUrl": "a.0@href",
      "coverUrl": "img@data-original",
      "intro": ".book-list-info-desc@text",
      "kind": ".book-list-info-bottom-right-font@text",
      "name": ".book-list-info-title@text"
    },
    "ruleToc": {
      "chapterList": "#detail-list-select li a",
      "chapterName": "text",
      "chapterUrl": "href"
    },
    "searchUrl": "https://www.wxzhm.top/search?keyword={{key}}",
    "weight": 0
  },
  {
    "bookSourceGroup": "",
    "bookSourceName": "66å°è¯´",
    "bookSourceType": 0,
    "bookSourceUrl": "http://www.66story.com",
    "bookUrlPattern": "http://www.66story.com/index.php/book/info/.*",
    "customOrder": 0,
    "enabled": true,
    "enabledCookieJar": true,
    "enabledExplore": false,
    "exploreUrl": "",
    "header": "{\n\t\"User-Agent\":\"Mozilla/5.0 (Linux; Android 9) Mobile Safari/537.36\",\"referer\":\"{{baseUrl}}\"\n\t}",
    "lastUpdateTime": "1732800048125",
    "loginUrl": "http://www.66story.com",
    "respondTime": 180000,
    "ruleBookInfo": {
      "author": ".story-detail__info@.author@text",
      "coverUrl": ".novel_info_main@img@src",
      "init": "",
      "intro": ".intro@text",
      "kind": "",
      "lastChapter": ".to100@a@text",
      "name": ".story-detail__info@.title@text",
      "wordCount": ""
    },
    "ruleContent": {
      "content": ".chapter-preview@html",
      "nextContentUrl": "",
      "replaceRegex": ""
    },
    "ruleExplore": [],
    "ruleSearch": {
      "author": ".comic-author.0@text",
      "bookList": ".search-result@.comic-list-item",
      "bookUrl": ".comic-name@a@href",
      "checkKeyWord": "æˆ‘çš„",
      "coverUrl": "img.0@src",
      "intro": ".comic-author.1@text",
      "kind": "",
      "lastChapter": "",
      "name": ".comic-name@text"
    },
    "ruleToc": {
      "chapterList": "#j-catalog-datalist@.item",
      "chapterName": ".title-text@text",
      "chapterUrl": ".item-link@a@href",
      "nextTocUrl": ""
    },
    "searchUrl": "/index.php/book/search?key={{key}}",
    "weight": 0
  },
  {
    "bookSourceComment": "//ä¿®å¤ç›®å½•,åŠ¨æ€è·å–å‘ç°ï¼Œä¼˜åŒ–éƒ¨åˆ†è§„åˆ™ï¼Œæ·»åŠ ç™»å½•UI â—å¤œæ³½å·â— 2024,11.28",
    "bookSourceGroup": "è½»å°è¯´",
    "bookSourceName": "ç¥å‡‘è½»å°è¯´",
    "bookSourceType": 0,
    "bookSourceUrl": "https://m.shencou.com",
    "customOrder": 555,
    "enabled": true,
    "enabledCookieJar": false,
    "enabledExplore": true,
    "exploreUrl": "@js: var result = [];\njava.toast(\"ğŸ”¥åŠ¨æ€è·å–å‘ç°ä¸­â€¦â€¦\");\nvar push=(title,url,size)=>result.push({\n  \t\"title\": title,\n  \t\"url\": url,\n  \t\"style\": {\n   \"layout_flexGrow\": 1,\n   \"layout_flexBasisPercent\": size\n   }\n });\nvar top = java.ajax(\"https://m.shencou.com/top.php?type=allvisit&page=1\");\nvar tag = java.ajax(\"https://m.shencou.com/sort.php\")\nif (top&&tag) {\na=org.jsoup.Jsoup.parse(top).select(\".ranking a\");\nb=org.jsoup.Jsoup.parse(tag).select(\".sortlist a\");\npush(\"æ’è¡Œæ¦œ\",null,1)\n    for(i in a){\n        title=a[i].text()\n        url=a[i].attr(\"href\")\n        size=0.25;\n  url=String(url).replace(\"1\",\"{{page}}\")\n        push(title,url,size)\n    };\n    push(\"åˆ†ç±»\",null,1)\n    for(i in b){\n        title=b[i].text()\n        url=b[i].attr(\"href\")\n        size=0.4;\n  url=String(url).replace(\"1\",\"{{page}}\")\n        push(title,url,size)\n    };\n      } else { \n      java.toast(\"ğŸš«å‘ç°è·å–å¤±è´¥â€¦â€¦\");\n}\nJSON.stringify(result);",
    "header": "{\"User-Agent\": \"Mozilla/5.0 (Linux; Android 9) Mobile Safari/537.36\"}",
    "lastUpdateTime": "1732767687605",
    "loginUi": "[\n{\n        name: \"ç”¨æˆ·å\",\n        type: \"text\"\n    },\n    {\n        name: \"å¯†ç \",\n        type: \"password\"\n    },\n    {\n        name: \"         æ³¨å†Œ          \",\n        type: \"button\",\n        action: \"register()\"\n    },\n    {\n        name: \"         ç™»å½•          \",\n        type: \"button\",\n        action: \"login()\"\n    }\n]",
    "loginUrl": "function register() {\njava.startBrowser(\"https://m.shencou.com/register.php\",\"æ³¨å†Œ\");\n\t}\n\nfunction login() {\n\tcookie.removeCookie(source.getKey())\n\tname = source.getLoginInfoMap().get(\"ç”¨æˆ·å\");\n\tword = source.getLoginInfoMap().get(\"å¯†ç \");\n\tif (name&&word){\n\tul = \"https://m.shencou.com/login.php\";\n\tby = `_17mb_username=${name}&_17mb_password=${word}&ac=login`\n\theaders = {\n\t\t\"User-Agent\": \"Mozilla/5.0 (Linux; Android 9) Mobile Safari/537.36\"\n\t\t}\n\tck = java.post(ul,by,headers).cookies();\n\tco = String(ck).replace(/\\{(.*),(.*)\\}/,\"$1;$2\");\n\tcookie = {\n\t\"Cookie\": co\n}\n\tif (ck) {\n\t\tjava.toast(\"ç”¨æˆ·ğŸ‘¤ \" + name + \" ç™»å½•æˆåŠŸ\");\n\tsource.putLoginHeader(JSON.stringify(cookie));\n\t} else {\n\t\tjava.toast(\"ç”¨æˆ·ğŸ‘¤ \" + name + \" ç™»å½•å¤±è´¥\");\n\t\t}\n}\n\t}",
    "respondTime": 180000,
    "ruleBookInfo": {
      "author": ".p1.0@text",
      "coverUrl": ".tu@img@src",
      "init": "",
      "intro": ".jj@.p2@text##ç»è´¹ä¸è¶³[\\s\\S]+",
      "kind": "{{@@.catalog1@class.p4@text}},{{@@.p5@text}},{{@@.p2.1@text##ï¼š##:}}",
      "lastChapter": ".info_chapters@.p2.0@li.0@text",
      "name": ".inh1@text",
      "tocUrl": "",
      "wordCount": ".p6@text"
    },
    "ruleContent": {
      "content": "#novelcontent@html",
      "replaceRegex": "##\\s*ï¼ˆæ’å›¾\\d+ï¼‰\\s*"
    },
    "ruleExplore": {
      "author": "a[href^=/author]@text",
      "bookList": ".fl_list@.tt||.content_link",
      "bookUrl": ".p2@a@href||a@href",
      "coverUrl": "a@href||.p2@a@href@js:\naid = result.match(/[0-9]+/); \nstr = \"http://www.shencou.com/files/article/image/\" +( String(aid).length > 3?   String(aid)[0]: \"0\")+ \"/\" + aid + \"/\" + aid +\"s.jpg\"; \nstr;",
      "intro": ".right@.p5@text",
      "kind": ".label@p@ownText||a[href=#]@text##\\[|\\]",
      "name": ".right@.p1@text||.p2@text",
      "wordCount": ""
    },
    "ruleSearch": {
      "author": "a.2@text",
      "bookList": ".search_list",
      "bookUrl": "a@href",
      "checkKeyWord": "æ¬¢è¿æ¥åˆ°å®åŠ›è‡³ä¸Š",
      "coverUrl": "a@href@js:\naid = result.match(/[0-9]+/); \nstr = \"http://www.shencou.com/files/article/image/\" +( String(aid).length > 3?   String(aid)[0]: \"0\")+ \"/\" + aid + \"/\" + aid +\"s.jpg\"; \nstr;",
      "kind": "a.1@text##ï¿½##æ–‡åº“",
      "lastChapter": "",
      "name": "a.0@text##ã€Š|ã€‹"
    },
    "ruleToc": {
      "chapterList": "@css:.info_chapters .p2:nth-of-type(2) li:not(.warning)\n@js:\nlist=[]\nlis=result\nfor(i in lis) {\n    if(String(lis[i]).match(/href/)) {\n        lis[i].select(\"a\").forEach(a=>{\n            list.push({\n                text: a.text().match(/>(.*)/)[1],\n                href: a.attr(\"href\")\n            })\n        })\n    } else {\n        list.push({\n            text: \" ğŸ·ï¸ \"+lis[i].text(),\n            vo: true\n        })\n    }\n}\nlist",
      "chapterName": "text",
      "chapterUrl": "href",
      "isVolume": "vo",
      "nextTocUrl": "@js: \nvar regex = /<option value=\"([^\"]+)\"[^>]*>/g;\nvar pages = [];\nvar match;\nwhile ((match = regex.exec(src)) !== null) {\n    pages.push(match[1]);\n}\npages;"
    },
    "searchUrl": "@js:\nvar url=source.getKey();\nvar so=url+\"/pserchs.php,\";\nbody=`s=${key}&type=articlename&submit`;\nvar head=source.header;\nvar post={\n\t\"body\": String(body),\n\t\"charset\":\"gbk\",\n  \"method\": \"POST\"\n  };\nso+JSON.stringify(post);",
    "weight": 0
  },
  {
    "bookSourceComment": "",
    "bookSourceGroup": "å…¸",
    "bookSourceName": "ğŸ“š å¤é¾™å…¨é›†",
    "bookSourceType": 0,
    "bookSourceUrl": "https://www.gulongwang.com",
    "customOrder": -75378,
    "enabled": true,
    "enabledCookieJar": true,
    "enabledExplore": true,
    "exploreUrl": "[{\"title\":\"å¤é¾™å…¨é›†\",\"url\":\"/\",\"style\":{\"layout_flexBasisPercent\":1,\"layout_flexGrow\":1}}]",
    "lastUpdateTime": "1732751082207",
    "respondTime": 1199,
    "ruleBookInfo": {
      "name": ""
    },
    "ruleContent": {
      "content": ".nr_con@html",
      "replaceRegex": "##ï¼ˆå¤é¾™ç½‘.*ï¼‰"
    },
    "ruleExplore": {
      "author": "@js:'å¤é¾™'",
      "bookList": ".shuming@li",
      "bookUrl": "a.1@href",
      "coverUrl": "img@src",
      "name": "a.1@text"
    },
    "ruleSearch": [],
    "ruleToc": {
      "chapterList": "id.right@li@a",
      "chapterName": "text##æ­£æ–‡\\s",
      "chapterUrl": "href"
    },
    "weight": 0
  },
  {
    "bookSourceComment": "éœ€ç™»å½•\nâ—æœç´¢æ ¼å¼â—\n1ã€æœç´¢ç”¨æˆ·<å…³é—­ç²¾ç¡®æœç´¢>\n@ç”¨æˆ·å\n2ã€æœç´¢åˆé›†<å…³é—­ç²¾ç¡®æœç´¢>\n#åˆé›†\n3ã€æœç´¢æ–‡ç« ï¼Œç›´æ¥æœç´¢\nå‘ç°è§„åˆ™\n                                    ğŸ·æ ‡ç­¾\næ ‡ç­¾å::https://api.lofter.com/oldapi/tagPosts.api?product=lofter-android-6.13.0&method=newTagSearch&offset={{(page-1) *22}}&limit=22&firstpermalink=null&tag=æ ‡ç­¾å&type=new,{\"method\": \"POST\",\"body\":\"null\"}\nğŸ“ƒç”¨æˆ·ï¼ˆæœç´¢å¯ä»¥å¾—åˆ°)\nå‡ºç°ç›®å½•åŠ è½½å¤±è´¥ï¼Œè¯·å°è¯•åˆ·æ–°ï¼Œå› ä¸ºå¯èƒ½æ˜¯è¯·æ±‚å¤±è´¥å¯¼è‡´çš„",
    "bookSourceGroup": "â‘¢ğŸ“–  è®ºå›",
    "bookSourceName": "ğŸ“–Lofter",
    "bookSourceType": 0,
    "bookSourceUrl": "https://newsmiss.lofter.com",
    "bookUrlPattern": "",
    "customOrder": 55,
    "enabled": true,
    "enabledCookieJar": true,
    "enabledExplore": true,
    "exploreUrl": "              ----------     ğŸ·æ ‡ç­¾     ----------               ::\nç™¾åˆ::https://api.lofter.com/oldapi/tagPosts.api?product=lofter-android-6.13.0&method=newTagSearch&offset={{(page-1) *22}}&limit=22&firstpermalink=null&tag=ç™¾åˆ&type=new,{\"method\": \"POST\",\"body\":\"null\"}\n\n               ----------     ğŸ“ƒç”¨æˆ·     ----------               ::\nç ‚ä¸Šé›ª::http://api.lofter.com/v2.0/blogHomePage.api?product=lofter-android-6.13.0,{\"method\":\"POST\",\"body\":\"targetblogid=514131314&supportposttypes=1%2C2%2C3%2C4%2C5%2C6&blogdomain=taste-s.lofter.com&offset={{(page-1)*18}}&method=getPostLists&postdigestnew=1&returnData=1&limit=18&checkpwd=1&needgetpoststat=1\"}",
    "header": "{\n\"Content-Type\": \"application/x-www-form-urlencoded;charset=utf-8\"}",
    "lastUpdateTime": "1732945644243",
    "loginUrl": "https://newsmiss.lofter.com",
    "respondTime": 241015,
    "ruleBookInfo": {
      "author": "$.response.blogInfo.blogNickName||$.response.posts[0].post.blogInfo.blogNickName",
      "canReName": "1",
      "coverUrl": "$.response.collection.coverUrl@put:{page:$.response.blogInfo.blogStat.publicPostCount}",
      "init": "<js>\ntry{\ncookie = cookie.getCookie(\"https://newsmiss.lofter.com\");\n\nlofter = String(cookie).match(/;\\s(LOFTER-[^-]+-LOGIN-AUTH)=(.*?);/);\n\nheader = {};\nheader[lofter[1]] = lofter[2];\nsource.putLoginHeader(JSON.stringify(header));\nresult;\n}catch(e){\n\tresult = result\n\t}\n</js>",
      "intro": "@js:\na='{{$.response.collection.description}}';\nb='{{$.response.blogInfo.blogNickName}}';\nc=java.getString('$.response.posts[0].post.digest||$.response.collection.description||$.response.blogInfo.selfIntro');\n\nresult =c;\n\ncname=\"{{$.response.posts[0].post.postCollection.name}}\";\ncdes=java.getString('$.response.posts[0].post.postCollection.description');\nccount=\"{{$.response.posts[0].post.postCollection.postCount}}\";\nif(cname){\nresult=result+\"\\n&lrm;\\nğŸˆ´æ‰€å±åˆé›†ï¼š\"+cname+\"\\nğŸ“œåˆé›†ä»‹ç»ï¼š\"+cdes+\"\\n\"+\"ğŸ”¢åˆé›†ç« èŠ‚æ€»æ•°ï¼š\"+ccount\n+\"\\nğŸ”æœç´¢åˆé›†ï¼š#\"+cname+\"<å…³é—­ç²¾ç¡®æœç´¢>\";\n\nString(result).replace(/ğŸ“œåˆé›†ä»‹ç»ï¼š\\n/,'')+String(book.intro).replace(/([\\s\\S]+?)--å¤åˆ¶/,'<br>&lrm;<br>--å¤åˆ¶').replace(/.*?::/,book.author+'::')\n}else{\n\tString(book.intro)\n\t}",
      "kind": "$.postCollection",
      "lastChapter": "",
      "name": "$.response.collection.name",
      "tocUrl": "$.response.blogsetting.blogId\n@js:\nif(result){\nid='{{$.response.blogsetting.blogId}}';\nlink='{{$.response.blogLink}}';\nurl='http://api.lofter.com/v2.0/blogHomePage.api?product=lofter-android-6.9.2,';\npost={\"method\": \"POST\",\n\"body\": \"targetblogid=\"+id+\"&supportposttypes=1%2C2%2C3%2C4%2C5%2C6&blogdomain=\"+link+\"&offset=0&method=getPostLists&postdigestnew=1&returnData=1&limit=500&checkpwd=1&needgetpoststat=1\"}\nresult=url+JSON.stringify(post);\njava.put('url',result)}else if(baseUrl.match(/postCollection/)){\nresult=java.get('url')\n}"
    },
    "ruleContent": {
      "content": "<js>\nif(/\\.mp4/.test(baseUrl)){\n\tresult = \"è¯·ç‚¹å‡»ç« èŠ‚é“¾æ¥è§‚çœ‹è§†é¢‘\\nè§†é¢‘é“¾æ¥ï¼š\"+baseUrl\n\t}else{\ncontent = java.getString(\"$..content\");\nimgs = eval(String(java.getString(\"$..photoLinks\")));\nvideo =/video_down_url\\\\\":\\\\\"(.*?)\\\\\"/.test(result)? \"è§†é¢‘é“¾æ¥ï¼š\"+String(result).match(/video_down_url\\\\\":\\\\\"(.*?)\\\\\"/)[1]:\"\";\nimg = \"\";\nimgs?imgs.forEach(x=>{\n\tx?img += \"<img src=\\\"\"+x.orign.replace(/%7C.*/g,'')+\"\\\">\\n\":\"\"\n\t}):\"\"\nresult =  content + \"\\n\"+img+\"\\n\"+video;\n}\n</js>",
      "imageDecode": "",
      "imageStyle": "full",
      "nextContentUrl": "<js>\ntry{\n\t\tid = java.getString(\"$..post.id\");\n\t\tid2 = java.getString(\"$..post.blogId\");\nurl =\"https://api.lofter.com/v1.1/trade/gift/post/newSupportInfo?postId=\"+id+\"&blogId=\"+id2+\"&openFansVipPlan=0&vipFans=0\"\n\t$  = JSON.parse(String(java.ajax(url)));\n\tjava.log(JSON.stringify($))\n\tl = $.data.gainReturnGifts.length?$.data.gainReturnGifts:$.data.returnGifts;\n\tls = []\n\tl.forEach(x=>{\n\t\turl = \"https://api.lofter.com/v1.1/trade/gift/myReturnGift?id=\"+x.id+\"&postId=\"+id+\"&blogId=\"+id2;\n\t\tjava.log(url)\n\t\tls.push(url)\n\t\t})\n\tresult = ls\n\t}catch(e){\n\t\t}\n</js>",
      "replaceRegex": "##src=\"(.*?)\"##src=\"$1,{'headers':{'referer':'{{$..blogPageUrl}}'}}\"",
      "sourceRegex": "",
      "webJs": ""
    },
    "ruleExplore": {
      "author": "$.post.blogInfo.blogNickName",
      "bookList": "<js>result.replace(/null/g,'')</js>\n$.response.items[*]||$.response.posts[*]",
      "bookUrl": "@js:url='{{$.post.blogId||$.post.blogPageUrl}}';\nid='{{$.post.id}}';\nmain=url.match(/_blogid_\\d+/)?url.match(/_blogid_(\\d+)/)[1]:url;\nbody=\"blogdomain=_blogid_\"+main+\".lofter.com&postid=\"+id;\nresult='https://api.lofter.com/oldapi/post/detail.api?product=lofter-android-7.4.4,{\"method\":\"POST\",\"body\":\"'+String(body)+'\"}';",
      "coverUrl": "$.post\n@js:if(result.match(/firstImageUrl=\\[\"\",\"\"\\]/)){\nresult=result.match(/bigAvaImg=(.*?),/)?result.match(/bigAvaImg=(.*?),/)[1]:'';}else{\nresult=result.match(/firstImageUrl=\\[\"([^\"]+)\"/)?result.match(/firstImageUrl=\\[\"([^\"]+)\"/)[1]:\"\"\n}",
      "intro": "{{$.post.digest}}\n<br>&lrm;<br>\n--å¤åˆ¶ä¸‹é¢çš„æ–‡å­—ï¼Œå¯å°†ç”¨æˆ·æ·»åŠ å‘ç°æˆ–è€…è®¢é˜…--\n{{$.post.blogInfo.blogNickName}}::http://api.lofter.com/v2.0/blogHomePage.api?product=lofter-android-7.4.4,{\"method\":\"POST\",\"body\":\"targetblogid={{$.post.blogInfo.blogId}}&supportposttypes=1%2C2%2C3%2C4%2C5%2C6&blogdomain={{$.post.blogInfo.blogName}}.lofter.com&offset={{'\\{\\{(page-1)*18\\}\\}&method=getPostLists&postdigestnew=1&returnData=1&limit=18&checkpwd=1&needgetpoststat=1\"}'}}",
      "kind": "$.post.tag",
      "lastChapter": "$.post.publishTime\n@js:result=java.timeFormat(parseInt(result));\njava.put('time',result)",
      "name": "$.post.title||$.post.noticeLinkTitle||$.post.digest||$.post.blogInfo.blogId||$.post.blogPageUrl##</*\\w.*?>"
    },
    "ruleSearch": {
      "author": "$.blogInfo.blogNickName||$.blogName",
      "bookList": "<js>java.log(baseUrl);result</js>\n$..postData[*]||$.data.posts[*]||$.data.blogs[*]||$.data.collections[*]",
      "bookUrl": "$.postPageUrl\n@js:\nif(!result){\nif(!'{{$.name}}'){\nid='{{$.blogId}}';\nresult='http://api.lofter.com/v2.0/blogHomePage.api?product=lofter-android-7.4.4,{\"method\": \"POST\",\"body\":\"targetblogid='+id+'&method=getBlogInfoDetail&returnData=1&checkpwd=1&needgetpoststat=1\"}'}else{\nblogid='{{$.blogId}}';\nid='{{$.id}}';\nname='{{$.blogName}}';\njava.put('name',name);\nresult='https://api.lofter.com/v1.1/postCollection.api?product=lofter-android-7.4.4,{\"method\": \"POST\",\"body\":\"blogdomain='+name+'.lofter.com&method=getCollectionSimple&offset=0&limit=2000&blogid='+blogid+'&collectionid='+id+'&order=1\"}';java.put('url',result)\n}}else{\nbody=\"blogdomain=_blogid_{{$.blogId}}.lofter.com&postid={{$.id}}\";\nresult='https://api.lofter.com/oldapi/post/detail.api?product=lofter-android-7.4.4,{\"method\":\"POST\",\"body\":\"'+String(body)+'\"}';\n\t\n\t};",
      "coverUrl": "$.firstImageUrl[0]||$.blogInfo.bigAvaImg||$.bigAvaImg||$.coverUrl",
      "intro": "{{$.digest||$.selfIntro||$.posts[0].digest}}\n<br>&lrm;<br>\n--å¤åˆ¶ä¸‹é¢çš„æ–‡å­—ï¼Œå¯å°†ç”¨æˆ·æ·»åŠ å‘ç°æˆ–è€…è®¢é˜…--\n{{$.blogInfo.blogNickName||$.blogNickName||$.blogName}}::http://api.lofter.com/v2.0/blogHomePage.api?product=lofter-android-6.9.2,{\"method\":\"POST\",\"body\":\"supportposttypes=1%2C2%2C3%2C4%2C5%2C6&blogdomain={{$.blogName||$.blogInfo.blogName}}.lofter.com&offset={{'\\{\\{(page-1)*18\\}\\}&method=getPostLists&postdigestnew=1&returnData=1&limit=18&checkpwd=1&needgetpoststat=1\"}'}}",
      "kind": "$.tagList||$.tags",
      "lastChapter": "$.publishTime\n<js>\nif(result){\nresult?result=java.timeFormat(parseInt(result)):'';\njava.put('time',result)}else{\nresult=java.getString('$.posts[0].title||$.posts[0].digest')\n}</js>\n##</*\\w+.*?>",
      "name": "$.title||$.noticeLinkTitle||$.digest||$.blogInfo.blogNiceName||$.blogNickName||$.name##</*\\w.*?>",
      "wordCount": ""
    },
    "ruleToc": {
      "chapterList": "$..posts[*]||$.response.items[*]@put:{blogname:$..blogName}",
      "chapterName": "$.post.title||$.post.digest||$.post.blogInfo.blogNickName\n<js>if(result){\nresult=result\n}else{result=book.name}\nString(result).replace(/<\\/*\\w.*?>/g,'')\n</js>\n##(^.{1,25})##$1###",
      "chapterUrl": "<js>\nif(/postCollection|blogHomePage/.test(baseUrl)){\tbody=\"blogdomain=_blogid_{{$.post.blogId}}.lofter.com&postid={{$.post.id}}\";\nresult='https://api.lofter.com/oldapi/post/detail.api?product=lofter-android-7.4.4,{\"method\":\"POST\",\"body\":\"'+String(body)+'\"}';\n\t}else\tif(/video_down_url\":\"(.*?)\"/.test(result)){\n\t\tresult = String(result).match(/video_down_url\":\"(.*?)\"/)[1];\n\t\t}else{\n\t\t\tresult = baseUrl\n\t\t\t}\n</js>",
      "nextTocUrl": "<js>\npages=java.get('page');\npage=parseInt(pages/500);\nurl=String(java.get('url'));\nlist=[];\n\nif(page>6){\npage=6\n}else{page=page}\n\nfor(i=1;i<=page;i++){\nlist.push(url.replace(/offset=\\d+/,'offset='+(parseInt(i)*500)))\n}\n\nlist\n</js>",
      "updateTime": "$.post.publishTime\n@js:result?java.timeFormat(parseInt(result)):java.get('time')"
    },
    "searchUrl": "@js:\nif(key.indexOf('@')==0){\nresult='https://api.lofter.com/newsearch/blog.json?key='+encodeURI(key.match(/^@(.*)/)[1])+'&offset={\\{(page-1) *10}\\}';\n}else if(key.indexOf('#')==0  || key.indexOf('ï¼ƒ')==0){\nresult='https://api.lofter.com/newsearch/collection.json?key='+encodeURI(key.match(/^(?:#|ï¼ƒ)(.*)/)[1])+'&offset={\\{(page-1) *10}\\}';\nresult\n}else{\n\theader = {\"headers\":{\n\t\"Content-Type\": \"application/x-www-form-urlencoded;charset=utf-8\",\n\t\"deviceid\": java.androidId(),\n \"if-modified-since\": String(new Date()).replace(/(.*?)\\s(.*?)\\s(.*?)\\s(.*?)GMT.*/,'$1, $3 $2 $4 GMT')\n}}\n\n\tresult = \"https://api.lofter.com/newsearch/post.json?key=\"+key+\"&sortType=0&offset={\\{(page-1) *20}\\}&limit=20\"+\",\"+JSON.stringify(header);\n\t}",
    "variableComment": "",
    "weight": 0
  }
]